(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="e44a88ea-be65-45f4-8317-8334e5806cb5",s._sentryDebugIdIdentifier="sentry-dbid-e44a88ea-be65-45f4-8317-8334e5806cb5")}catch{}})();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.30.24@fa26bea77ff"},function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="e44a88ea-be65-45f4-8317-8334e5806cb5",s._sentryDebugIdIdentifier="sentry-dbid-e44a88ea-be65-45f4-8317-8334e5806cb5")}catch{}}();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.30.24@fa26bea77ff"},(self.webpackChunkvisme_web=self.webpackChunkvisme_web||[]).push([[1838],{397042:(s,a,i)=>{i.d(a,{A:()=>l});var o=i(715390);const u=333,d=1;class n{videoId;el;endSeconds;startSeconds;thumbnail;additionalOptions;autoplay;looped;isPlayOnSetLoopedEnabled;muted;onEnd;onPause;onPlaying;onReady;onSeek;onMuteToggle;withControls;videoPlayer=null;isReady=!1;isFinished=!1;isFirstStart=!1;_playingTimer=null;_willPlayOnReady=!1;constructor({el:e,videoId:t,muted:r=!1,looped:y=!1,isPlayOnSetLoopedEnabled:c=!0,autoplay:_=!1,withControls:f=!1,startSeconds:p=0,thumbnail:P=null,additionalOptions:g={},endSeconds:m=null,onEnd:E=()=>null,onReady:v=()=>null,onPlaying:b=()=>null,onSeek:T=()=>null,onPause:S=()=>null,onMuteToggle:w=()=>null}){this.el=e,this.videoId=t,this.muted=r,this.looped=y,this.isPlayOnSetLoopedEnabled=c,this.autoplay=_,this.withControls=f,this.startSeconds=p,this.endSeconds=m,this.onEnd=E,this.onReady=v,this.onPlaying=b,this.onPause=S,this.onMuteToggle=w,this.onSeek=T,this.thumbnail=P,this.additionalOptions=g,this.init().catch(this.handleError)}init(){return this.createPlayer()}async createPlayer(){await this._createPlayer(),this.isReady=!0,o.A.addToList(this),(this.autoplay||this._willPlayOnReady)&&this.play(),this.onReady(),this.isFirstStart=!0}async handleStartTime(){await this.getCurrentTime()<this.startSeconds&&this.seekTo(this.startSeconds)}async handleEndTime(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=await this.getCurrentTime();!this.endSeconds||t<this.endSeconds||(this.isFinished=!0,this.looped||e?(this.seekTo(this.startSeconds),this.play()):(this.pause(),this.handleEnd()))}setStartSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.startSeconds!==e&&(this.startSeconds=e,this.handleStartTime().catch(this.handleError))}setEndSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.endSeconds!==e&&(this.endSeconds=e,this.handleEndTime().catch(this.handleError))}async _createPlayer(){}async getDuration(){return 0}play(){this.isReady?this._play():this._willPlayOnReady=!0}_play(){}pause(){}stop(){this.pause()}async isPlaying(){return this.isReady?this._isPlaying():!1}async _isPlaying(){return!1}async togglePlaying(){await this.isPlaying()?this.pause():this.play()}setLooped(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.looped!==e&&(this.looped=e,this.looped&&this.isPlayOnSetLoopedEnabled&&this.play(),this._setLooped(e))}_setLooped(e){}mute(){}unMute(){}async isMuted(){return!1}_handleMute(e){this.onMuteToggle(e)}forceAbortBuffering(){}destroy(){o.A.removeFromList(this),this._playingTimer!==null&&clearInterval(this._playingTimer),this._destroy()}_destroy(){}seekTo(e){}async getCurrentTime(){return 0}_handleSeek(e){this.onSeek(e)}_handlePlaying(){this.onPlaying(),this.handleStartTime().catch(this.handleError),this.handleEndTime(!0).catch(this.handleError),this.checkIsFinished(),this._playingTimer||(this._playingTimer=setInterval(()=>{this.handleEndTime(!1).catch(this.handleError),this.checkIsFinished()},u))}_handlePause(){this.onPause(),this._playingTimer!==null&&(clearInterval(this._playingTimer),this._playingTimer=null)}handleEnd(){this.isFinished=!0,this.looped?this.play():this.onEnd&&this.onEnd()}async checkIsFinished(){const e=await this.getDuration(),t=await this.getCurrentTime();e-t<d&&(this.isFinished=!0)}playbackRate(){return this._playbackRate()}_playbackRate(){return 1}handleError(e){console.error(e)}}const l=n},715390:(s,a,i)=>{i.d(a,{A:()=>d});var o=i(114317);const d=o.types.model({}).volatile(()=>({players:new Set})).actions(n=>({addToList(l){n.players.add(l)},removeFromList(l){n.players.delete(l)},pauseAllPlayersExcept(l){n.players.forEach(async h=>{h!==l&&h.pause()})}})).actions(n=>({pauseAllPlayers(){n.pauseAllPlayersExcept(null)}})).create()},962132:(s,a,i)=>{i.d(a,{default:()=>h});var o=i(104751),u=i(216960),d=i(397042);const n="https://player.vimeo.com/api/player.js";class l extends d.A{init(){return(0,u.k)(n).then(()=>(0,o.waitForVariable)("Vimeo")).then(()=>this.createPlayer()).catch(this.handleError)}_createPlayer(){return this.videoPlayer=new Vimeo.Player(this.el),this.videoPlayer.ready().then(()=>this._handleReady())}_handleReady(){return this.videoPlayer.on("ended",this.handleEnd.bind(this)),this.videoPlayer.on("play",this._handlePlaying.bind(this)),this.videoPlayer.on("pause",this._handlePause.bind(this)),this.videoPlayer.on("seeked",this._handleSeekEvent.bind(this)),this.videoPlayer.on("volumechange",this._handleVolumeChange.bind(this)),this.muted&&this.videoPlayer.setVolume(0).catch(this.handleError),this.looped&&this._setLooped(!0),Promise.resolve()}_handleSeekEvent(t){this._handleSeek(t.seconds)}_handleVolumeChange=t=>{let{volume:r}=t;this._handleMute(r===0)};_setLooped(t){this.videoPlayer.setLoop(t).catch(this.handleError)}async getDuration(){return this.videoPlayer.getDuration()}_play(){this.videoPlayer.play()}pause(){this.videoPlayer.getPaused().then(t=>{t===!1&&this.videoPlayer.pause()})}async _isPlaying(){const[t,r]=await Promise.all([this.videoPlayer.getEnded(),this.videoPlayer.getPaused()]);return!t&&!r}async _handleMuteStatusAsync(t){const r=await this.isMuted();t!==r&&await this.videoPlayer.setVolume(t?0:1)}mute(){this._handleMuteStatusAsync(!0)}unMute(){this._handleMuteStatusAsync(!1)}async isMuted(){return await this.videoPlayer.getVolume()===0}seekTo(t){this.videoPlayer.setCurrentTime(t)}async getCurrentTime(){return this.videoPlayer.getCurrentTime()}_destroy(){this.videoPlayer&&(this.videoPlayer.off("ended"),this.videoPlayer.off("play"),this.videoPlayer.off("pause"),this.videoPlayer.off("seeked"),this.videoPlayer.off("volumechange"),this.videoPlayer.destroy())}}const h=l}}]);

//# sourceMappingURL=vimeoPlayer.bfcfaed78251bfee68fe.chunk.js.map